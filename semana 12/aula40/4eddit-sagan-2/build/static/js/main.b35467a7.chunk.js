(this["webpackJsonp4eddit-boilerplate"]=this["webpackJsonp4eddit-boilerplate"]||[]).push([[0],{105:function(t,e,n){t.exports=n(133)},133:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(15),i=n.n(o),c=n(9),l=n(90),u=n(173),s=n(174),p=n(99),d=Object(p.a)({palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"rgba(219, 224, 230, 1)"},primary:{light:"rgba(88, 175, 240, 1)",main:"rgba(0, 121, 210, 1)",dark:"rgba(0, 71, 125, 1)",contrastText:"#fff"},secondary:{light:"rgba(193, 198, 201, 1)",main:"rgba(134, 138, 141, 1)",dark:"rgba(102, 105, 107, 1)",contrastText:"rgba(255, 255, 255, 1)"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 121, 210, 1)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(65, 117, 5, 1)"}}}),m=n(24),f=n(65),h=n(25),g=n(10),v=n(11),b=n(12),x=n(13),O=n(19),j=n.n(O),y=n(33),w=n(34),E=n.n(w),S="https://us-central1-missao-newton.cloudfunctions.net/fourEddit",k=function(){return function(){var t=Object(y.a)(j.a.mark((function t(e){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=localStorage.getItem("token"),t.next=4,E.a.get("".concat(S,"/posts"),{headers:{auth:n}});case 4:a=t.sent,e(T(a.data)),e(L()),e(_()),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),alert("erro ao logar. contate o suporte",t.t0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},C=function(t){return function(){var e=Object(y.a)(j.a.mark((function e(n){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),e.next=4,E.a.get("".concat(S,"/posts/").concat(t),{headers:{auth:a}});case 4:r=e.sent,n(N(r.data.post)),n(L()),n(_()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),alert("erro ao pegar detalhes. contate o suporte",e.t0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},D=function(t){return{type:"SET_USER",payload:{userData:t}}},T=function(t){return{type:"SET_POSTS",payload:{posts:t}}},I=function(t){return{type:"NEW_USER",payload:{newUserData:t}}},L=function(){return{type:"SET_LOADING_OFF",payload:{}}},_=function(){return{type:"SET_LOADING_FREE",payload:{}}},N=function(t){return{type:"SET_POST_DETAIL",payload:{post:t}}},V=n(20),W=n(5),P=n(6),A=n(175),U=n(176),R=n(135),F=n(134);function M(){var t=Object(W.a)(["\nmargin-bottom: 20px;\n@media (max-width: 768px) {\n    flex-direction: column;\n    margin-bottom: 2px;\n    margin-left: 1px;\n}\n"]);return M=function(){return t},t}function q(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: center;\ntext-align: center;\nalign-content: center;\nalign-items: center;\n"]);return q=function(){return t},t}function z(){var t=Object(W.a)(["\nbackground-color: darkorange;\npadding: 10px;\nborder-radius: 50%;\nwidth: auto;\nheight: width;\nmargin: 20px;\n"]);return z=function(){return t},t}function G(){var t=Object(W.a)(["\nmargin: o auto;\n"]);return G=function(){return t},t}function J(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: column;\nalign-items: flex-start;\nwidth: 40vw;\nheight: 80vh;\nmargin-left: 25vw;\npadding:30px;\n@media (max-width: 768px) {\n    flex-direction: column;\n    margin-bottom: 2px;\n    height: 95vh;\n    width: 95%;\n    margin-left: 10px;\n}\n"]);return J=function(){return t},t}function X(){var t=Object(W.a)(["\n@media (max-width: 768px) {\n    flex-direction: column;\n    margin-bottom: 30px;\n}\n"]);return X=function(){return t},t}function B(){var t=Object(W.a)(["\nwidth:30vw;\nmargin: 20px;\n@media (max-width: 768px) {\n    display:flex;\n    flex-direction: column;\n    width: 80vw;\n    height:10vh;\n}\n"]);return B=function(){return t},t}var H=Object(P.a)(A.a)(B()),Y=Object(P.a)(U.a)(X()),Z=Object(P.a)(F.a)(J()),K=Object(P.a)(R.a)(G()),Q=P.a.div(z()),$=(P.a.div(q()),P.a.div(M())),tt=n(46),et=n.n(tt),nt=n(170),at=n(178),rt=n(169),ot=function(t){Object(x.a)(n,t);var e=Object(b.a)(n);function n(){return Object(g.a)(this,n),e.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(at.a,{style:{zIndex:10},open:this.props.open},r.a.createElement(rt.a,{color:"primary"})))}}]),n}(a.Component),it=function(t){Object(x.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleWhitLoading=function(){"desliga"===a.props.loading&&a.setState({loading:!1})},a.handleInput=function(t){a.setState(Object(h.a)({},t.target.name,t.target.value))},a.handleLogin=function(t){a.setState({loading:!0}),t.preventDefault();var e=a.state,n=e.email,r=e.password;a.props.login(n,r)},a.state={email:"",password:"",loading:!1},a}return Object(v.a)(n,[{key:"componentWillReceiveProps",value:function(){this.handleWhitLoading()}},{key:"componentDidUpdate",value:function(){null!==localStorage.getItem("token")&&this.props.goToFeed()}},{key:"render",value:function(){var t=this.state,e=t.email,n=t.password;return r.a.createElement(Z,{elevation:2},r.a.createElement(ot,{open:this.state.loading}),r.a.createElement(Q,null,r.a.createElement(et.a,{fontSize:"large"})),r.a.createElement(K,{variant:"h5",component:"h3",color:"primary"},"Sign in"),r.a.createElement($,null,r.a.createElement("form",{onSubmit:this.handleLogin},r.a.createElement(H,{variant:"outlined",name:"email",type:"email",label:"Digite seu email",required:!0,value:e,onChange:this.handleInput}),r.a.createElement(H,{variant:"outlined",name:"password",type:"password",label:"Digite sua senha",required:!0,value:n,onChange:this.handleInput}),r.a.createElement($,null,r.a.createElement(Y,{type:"submit",variant:"contained",color:"primary"},"SIGN IN"))),r.a.createElement(nt.a,null)),r.a.createElement(K,{variant:"h5",component:"h3",color:"primary"},"New to 4eddit ?"),r.a.createElement(Y,{onClick:this.props.goToRegister,variant:"contained",color:"secondary"},"SIGN UP"))}}]),n}(a.Component),ct=Object(c.c)((function(t){return{user:t.posts.user,loading:t.posts.loading}}),(function(t){return{login:function(e,n){return t(function(t,e){return function(){var n=Object(y.a)(j.a.mark((function n(a){var r,o,i,c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={email:t,password:e},n.prev=1,n.next=4,E.a.post("".concat(S,"/login"),r);case 4:o=n.sent,i=o.data.token,c=JSON.stringify(o.data.user),console.log(o.data),localStorage.setItem("token",i),localStorage.setItem("user",c),a(D(o.data.user)),a(L()),a(_()),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(1),window.alert("Desculpe, o login de deu errado, tente novamente",n.t0);case 18:case"end":return n.stop()}}),n,null,[[1,15]])})));return function(t){return n.apply(this,arguments)}}()}(e,n))},goToRegister:function(){return t(Object(V.d)(Ge.cadastro))},goToFeed:function(){return t(Object(V.d)(Ge.root))}}}))(it),lt=n(100),ut=n(179),st=n(47),pt=n.n(st);function dt(){var t=Object(W.a)(["\nwidth: 100%;\n"]);return dt=function(){return t},t}function mt(){var t=Object(W.a)(["\nmargin-right: 5px;\nfont-size: 20px;\n"]);return mt=function(){return t},t}function ft(){var t=Object(W.a)(["\nwidth: 20px;\nheight: 20px;\nmargin-right: 5px;\n"]);return ft=function(){return t},t}function ht(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\nmargin-top: 10px;\n"]);return ht=function(){return t},t}function gt(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\nmargin-bottom: 10px;\n"]);return gt=function(){return t},t}function vt(){var t=Object(W.a)(["\nmargin: 10px;\npadding: 10px;\ndisplay: inline-flex;\ncursor: pointer;\nmin-width: 50%;\nwidth: 50%;\n@media (max-width: 768px) {\n    display: flex;\n    justify-content: center;\n    width: 95%;\n    min-width: 95%;\n}\n"]);return vt=function(){return t},t}var bt=Object(P.a)(F.a)(vt()),xt=P.a.div(gt()),Ot=P.a.div(ht()),jt=Object(P.a)(ut.a)(ft()),yt=Object(P.a)(pt.a)(mt()),wt=P.a.div(dt());function Et(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: column;\ncursor: pointer;\ntext-align: center;\nalign-content: center;\nalign-items: center;\nmargin-right: 10px;\n"]);return Et=function(){return t},t}var St=P.a.div(Et()),kt=n(50),Ct=n.n(kt),Dt=function(t){Object(x.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleWhitLoading=function(){"desliga"===a.props.loading&&a.setState({loading:!1})},a.handlewithVote=function(t){a.setState({loading:!0});var e="";a.props.userVoteDirection===t?e=0:a.props.userVoteDirection!==t&&(e=t);var n={direction:e};a.props.topicVote(a.props.topicId,n)},a.upIcon=function(){var t="gray";return 1===a.props.userVoteDirection&&(t="green"),{transform:"rotate(270deg)",color:t}},a.downIcon=function(){var t="gray";return-1===a.props.userVoteDirection&&(t="orange"),{transform:"rotate(90deg)",color:t}},a.state={loading:!1},a}return Object(v.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(){this.handleWhitLoading()}},{key:"render",value:function(){var t=this;return r.a.createElement(St,null," ",r.a.createElement(ot,{open:this.state.loading}),r.a.createElement(Ct.a,{onClick:function(){t.handlewithVote(1)},style:this.upIcon()}),r.a.createElement(R.a,{variant:"body1"},this.props.votesCount),r.a.createElement(Ct.a,{onClick:function(){t.handlewithVote(-1)},style:this.downIcon()}))}}]),n}(a.Component),Tt=Object(c.c)((function(t){return{loading:t.posts.loading}}),(function(t){return{topicVote:function(e,n){return t(function(t,e){return function(){var n=Object(y.a)(j.a.mark((function n(a){var r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=localStorage.getItem("token"),n.next=4,E.a.put("".concat(S,"/posts/").concat(t,"/vote"),e,{headers:{auth:r}});case 4:n.sent,a(k()),a(C(t)),a(L()),a(_()),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),window.alert("n\xe3o foi possivel votar"),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(t){return n.apply(this,arguments)}}()}(e,n))}}}))(Dt),It=function(t){var e="",n=(new Date-new Date(t))/1e3/60/60,a=Math.trunc(n),r=Math.floor(60*(n-a)),o=0,i=0,c=a/24;c>1&&(i=Math.trunc(c),o=Math.floor(24*(c-i))),c<1&&(o=24*c);var l=new Date(t),u=l.getDate(),s=l.getMonth()+1,p=l.getFullYear();return i>0?e="".concat(i," dias, ").concat(o," horas e ").concat(r," minutos (").concat(u,"/").concat(s,"/").concat(p,")."):i<=0&&o>0?e="".concat(o," horas e ").concat(r," minutos (").concat(u,"/").concat(s,"/").concat(p,")."):i<=0&&o<=0&&(e="".concat(r," minutos (").concat(u,"/").concat(s,"/").concat(p,").")),e},Lt=function(){return Math.floor(9*Math.random())},_t=function(t){Object(x.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).textComment=function(){var e="comentarios";return 1===t.props.commentsNumber&&(e="comentario"),e},t}return Object(v.a)(n,[{key:"componentDidUpdate",value:function(){null===localStorage.getItem("token")&&this.props.goToLogin(),It(this.props.createdAt)}},{key:"render",value:function(){var t=this,e=It(this.props.createdAt);return r.a.createElement(bt,null,r.a.createElement(Tt,{key:this.props.id,userVoteDirection:this.props.userVoteDirection,topicId:this.props.id,votesCount:this.props.votesCount}),r.a.createElement(wt,{onClick:function(){t.props.selectedId(t.props.id)}},r.a.createElement(xt,null,r.a.createElement(jt,{src:"https://picsum.photos/1".concat(Lt()).concat(Lt())}),r.a.createElement(R.a,{variant:"caption",color:"secondary"},r.a.createElement("strong",null,"r/categoria"),"Criado por:",r.a.createElement("strong",null,"u/",this.props.username),"a ",e)),r.a.createElement("div",null,r.a.createElement(R.a,{variant:"h6",color:"textPrimary"},this.props.title),r.a.createElement(R.a,{variant:"subtitle1",color:"textPrimary"},this.props.text)),r.a.createElement(Ot,null,r.a.createElement(yt,null),r.a.createElement(R.a,{variant:"caption",color:"secondary"},this.props.commentsNumber,this.textComment()))))}}]),n}(a.Component),Nt=Object(c.c)((function(t){return{}}),(function(t){return{goToLogin:function(){return t(Object(V.d)(Ge.login))}}}))(_t),Vt=n(17),Wt=[{name:"title",label:"Titulo",type:"text",required:!0,title:"T\xedtulo do post"},{name:"text",label:"Texto da postagem",type:"text",required:!0,title:"Texto descrevendo a postagem",multiline:!0,rows:5}];function Pt(){var t=Object(W.a)(["\ndisplay: flex;\njustify-content: center\n"]);return Pt=function(){return t},t}function At(){var t=Object(W.a)(["\nbackground-color: #f6f7f9;\ndisplay: flex;  \njustify-content: center;\nalign-content: center;\nalign-items: center;\ntext-align: center;\nalign-self: center;\n"]);return At=function(){return t},t}function Ut(){var t=Object(W.a)(["\nmargin: 10px;\npadding: 10px;\ndisplay: inline-flex;\nmin-width: 50%;\n@media (max-width: 768px) {\n    display: flex;\n    justify-content: center;\n    width: 95%;\n    min-width: 95%;\n}\n"]);return Ut=function(){return t},t}var Rt=Object(P.a)(F.a)(Ut()),Ft=Object(P.a)(A.a)(At()),Mt=(P.a.div(Pt()),n(177)),qt=function(t){Object(x.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleWhitLoading=function(){"desliga"===a.props.loading&&a.setState({loading:!1})},a.handleInputChange=function(t){var e=t.target,n=e.name,r=e.value;a.setState({form:Object(Vt.a)({},a.state.form,Object(h.a)({},n,r))})},a.handleSubmission=function(t){a.setState({loading:!0}),t.preventDefault(),a.props.newPost(a.state.form)},a.state={form:{},loading:!1},a}return Object(v.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(){this.handleWhitLoading()}},{key:"render",value:function(){var t=this;return r.a.createElement(Rt,null," ",r.a.createElement(ot,{open:this.state.loading}),r.a.createElement(Mt.a,{fullWidth:!0},r.a.createElement("form",{onSubmit:this.handleSubmission},Wt.map((function(e){return r.a.createElement(Ft,{variant:"outlined",key:e.name,id:e.name,label:e.label,name:e.name,type:e.type,onChange:t.handleInputChange,pattern:e.pattern,inputProps:{pattern:e.pattern,min:e.min,title:e.title},min:e.min,required:e.required,title:e.title,value:t.state.form[e.name],margin:"dense",fullWidth:!0,multiline:e.multiline,rows:e.rows})})),r.a.createElement(U.a,{type:"submit",variant:"contained",color:"primary"},"Enviar"))))}}]),n}(a.Component),zt=Object(c.c)((function(t){return{loading:t.posts.loading}}),(function(t){return{newPost:function(e){return t(function(t){return function(){var e=Object(y.a)(j.a.mark((function e(n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),e.next=4,E.a.post("".concat(S,"/posts"),t,{headers:{auth:a}});case 4:e.sent,n(k()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("erro ao enviar. contate o suporte",e.t0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))(qt);function Gt(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nalign-content: center;\nalign-items: center;\n"]);return Gt=function(){return t},t}var Jt=P.a.div(Gt()),Xt=function(t){Object(x.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleWhitLoading=function(){"desliga"===a.props.loading&&a.setState({loading:!1})},a.handleWhitSelect=function(t){a.setState({loading:!0}),a.props.getPostDetail(t),a.props.goToPostDetail()},a.state={loading:!0},a}return Object(v.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(){this.handleWhitLoading()}},{key:"componentDidMount",value:function(){null===localStorage.getItem("token")&&this.props.goToLogin(),this.props.getPosts()}},{key:"componentDidUpdate",value:function(){null===localStorage.getItem("token")&&this.props.goToLogin()}},{key:"render",value:function(){var t=this,e=Object(lt.a)(this.props.posts).filter((function(e){return e.title.toLowerCase().includes(t.props.searchTerms.toLowerCase())||e.text.toLowerCase().includes(t.props.searchTerms.toLowerCase())})),n=this.props.posts&&this.props.posts.map((function(e){return r.a.createElement(Nt,{key:e.id,votesCount:e.votesCount,userVoteDirection:e.userVoteDirection,commentsNumber:e.commentsNumber,id:e.id,username:e.username,text:e.text,createdAt:e.createdAt,title:e.title,selectedId:t.handleWhitSelect})})),a=this.props.posts&&e.map((function(e){return r.a.createElement(Nt,{key:e.id,votesCount:e.votesCount,userVoteDirection:e.userVoteDirection,commentsNumber:e.commentsNumber,id:e.id,username:e.username,text:e.text,createdAt:e.createdAt,title:e.title,selectedId:t.handleWhitSelect})}));return r.a.createElement(Jt,null," ",r.a.createElement(ot,{open:this.state.loading}),r.a.createElement(zt,null),this.props.searchTerms.length>0?a:n," ")}}]),n}(a.Component),Bt=Object(c.c)((function(t){return{posts:t.posts.posts,postComments:t.posts.postComments,user:t.posts.user,loading:t.posts.loading,searchTerms:t.posts.searchTerms}}),(function(t){return{goToLogin:function(){return t(Object(V.d)(Ge.login))},goToPostDetail:function(){return t(Object(V.d)(Ge.postdetails))},getPosts:function(){return t(k())},getPostDetail:function(e){return t(C(e))}}}))(Xt);function Ht(){var t=Object(W.a)(["\nbackground-color: darkorange;\npadding: 10px;\nborder-radius: 50%;\nwidth: auto;\nheight: width;\nmargin: 20px;\n"]);return Ht=function(){return t},t}function Yt(){var t=Object(W.a)(["\nmargin: o auto;\n"]);return Yt=function(){return t},t}function Zt(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\ntext-align: center;\nalign-content: center;\nalign-items: center;\n\n@media (max-width: 768px) {\n    flex-direction: column;\n    margin-bottom: 2px;\n    margin-left: 1px;\n}\n"]);return Zt=function(){return t},t}function Kt(){var t=Object(W.a)(["\nwidth: 10vw;\n@media (max-width: 768px) {\n    flex-direction: column;\n    margin-bottom: 30px;\n}\n"]);return Kt=function(){return t},t}function Qt(){var t=Object(W.a)(["\nwidth:30vw;\nmargin: 20px;\n@media (max-width: 768px) {\n    display:flex;\n    flex-direction: column;\n    width: 80vw;\n    height:10vh;\n}\n"]);return Qt=function(){return t},t}function $t(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: center;\ntext-align: center;\nalign-content: center;\nalign-items: center;\n"]);return $t=function(){return t},t}function te(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\nwidth: 40vw;\nheight: 80vh;\nmargin-left: 25vw;\npadding:30px;\n@media (max-width: 768px) {\n    flex-direction: column;\n    margin-bottom: 2px;\n    height: 95vh;\n    width: 95%;\n    margin-left: 10px;\n}\n"]);return te=function(){return t},t}var ee=Object(P.a)(F.a)(te()),ne=(P.a.div($t()),Object(P.a)(A.a)(Qt())),ae=Object(P.a)(U.a)(Kt()),re=P.a.div(Zt()),oe=Object(P.a)(R.a)(Yt()),ie=P.a.div(Ht()),ce=[{name:"username",label:"Digite seu Nome",type:"text",pattern:"[a-zA-Z]{3,}",title:"nome do usu\xe1rio com no m\xednimo 3 letras"},{name:"email",label:"Digite seu email",type:"email",title:"email completo do usu\xe1rio"},{name:"password",label:"Crie uma senha",type:"password",pattern:"{5,}",title:"nova senha com no m\xednimo 5 digitos"}],le=function(t){Object(x.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleWhitLoading=function(){"desliga"===a.props.loading&&a.setState({loading:!1})},a.handleInputnewUser=function(t){var e=t.target,n=e.name,r=e.value;a.setState({form:Object(Vt.a)({},a.state.form,Object(h.a)({},n,r))})},a.handleOnSubmit=function(t){a.setState({loading:!0}),t.preventDefault(),a.props.newRegister(a.state.form)},a.state={form:{},loading:!1},a}return Object(v.a)(n,[{key:"componentWillReceiveProps",value:function(){this.handleWhitLoading()}},{key:"componentDidUpdate",value:function(){null!==localStorage.getItem("token")&&this.props.goToFeed()}},{key:"render",value:function(){var t=this;return r.a.createElement(ee,null," ",r.a.createElement(ot,{open:this.state.loading}),r.a.createElement(ie,null,r.a.createElement(et.a,{fontSize:"large"})),r.a.createElement(oe,{variant:"h3",color:"primary"},"Bem vindo ao 4eddit"),r.a.createElement("form",{onSubmit:this.handleOnSubmit},ce.map((function(e){return r.a.createElement(re,null,r.a.createElement(ne,{variant:"outlined",label:e.label,name:e.name,type:e.type,value:t.state.form[e.name],required:e.required,onChange:t.handleInputnewUser,title:e.title}))})),r.a.createElement(re,null,r.a.createElement(ae,{type:"submit",variant:"contained",color:"primary"},"Cadastrar"))))}}]),n}(a.Component),ue=Object(c.c)((function(t){return{user:t.posts.user,loading:t.posts.loading}}),(function(t){return{goToFeed:function(){return t(Object(V.d)(Ge.root))},newRegister:function(e){return t(function(t){return function(){var e=Object(y.a)(j.a.mark((function e(n){var a,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,E.a.post("".concat(S,"/signup"),t);case 4:a=e.sent,n(I(a.data)),r=a.data.token,o=JSON.stringify(a.data.user),localStorage.setItem("user",o),localStorage.setItem("token",r),n(D(a.data.user)),n(L()),n(_()),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),window.alert("Ops, n\xe3o foi poss\xedvel cadastrar, tente novamente!"),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))(le);function se(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: column;\ncursor: pointer;\njustify-content: flex-start;\ntext-align: center;\nalign-content: center;\nalign-items: center;\n"]);return se=function(){return t},t}var pe=P.a.div(se()),de=function(t){Object(x.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleWhitLoading=function(){"desliga"===a.props.loading&&a.setState({loading:!1})},a.handlewithVote=function(t){a.setState({loading:!0});var e="";a.props.userVoteDirection===t?e=0:a.props.userVoteDirection!==t&&(e=t);var n={direction:e};a.props.commentVote(a.props.topicId,n,a.props.commentId)},a.upIcon=function(){var t="gray";return 1===a.props.userVoteDirection&&(t="green"),{transform:"rotate(270deg)",color:t}},a.downIcon=function(){var t="gray";return-1===a.props.userVoteDirection&&(t="orange"),{transform:"rotate(90deg)",color:t}},a.state={loading:!1},a}return Object(v.a)(n,[{key:"componentWillReceiveProps",value:function(){this.handleWhitLoading()}},{key:"render",value:function(){var t=this;return r.a.createElement(pe,null," ",r.a.createElement(ot,{open:this.state.loading}),r.a.createElement(Ct.a,{onClick:function(){t.handlewithVote(1)},style:this.upIcon()}),r.a.createElement(R.a,{variant:"body1"},this.props.votesCount),r.a.createElement(Ct.a,{onClick:function(){t.handlewithVote(-1)},style:this.downIcon()}))}}]),n}(a.Component),me=Object(c.c)((function(t){return{loading:t.posts.loading}}),(function(t){return{commentVote:function(e,n,a){return t(function(t,e,n){return function(){var a=Object(y.a)(j.a.mark((function a(r){var o;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o=localStorage.getItem("token"),a.next=4,E.a.put("".concat(S,"/posts/").concat(t,"/comment/").concat(n,"/vote"),e,{headers:{auth:o}});case 4:a.sent,r(C(t)),r(L()),r(_()),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),window.alert("n\xe3o foi possivel votar"),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(t){return a.apply(this,arguments)}}()}(e,n,a))}}}))(de);function fe(){var t=Object(W.a)(["\ndisplay: flex;\njustify-content: flex-start;\n"]);return fe=function(){return t},t}function he(){var t=Object(W.a)(["\nwidth: 100%;\n"]);return he=function(){return t},t}function ge(){var t=Object(W.a)(["\nmargin-right: 5px;\nfont-size: 15px;\n"]);return ge=function(){return t},t}function ve(){var t=Object(W.a)(["\nwidth: 20px;\nheight: 20px;\nmargin-right: 5px;\n"]);return ve=function(){return t},t}function be(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\nmargin-bottom: 10px;\n"]);return be=function(){return t},t}function xe(){var t=Object(W.a)(["\nmargin: 10px;\npadding: 10px;\ndisplay: inline-flex;\nmin-width: 50%;\nwidth: 50%;\n@media (max-width: 768px) {\n    display: flex;\n    justify-content: center;\n    width: 95%;\n    min-width: 95%;\n}\n"]);return xe=function(){return t},t}function Oe(){var t=Object(W.a)(["\ndisplay: flex;\njustify-content: space-between;\npadding: 10px;\n"]);return Oe=function(){return t},t}P.a.div(Oe());var je=Object(P.a)(F.a)(xe()),ye=P.a.div(be()),we=(Object(P.a)(ut.a)(ve()),Object(P.a)(pt.a)(ge()),P.a.div(he())),Ee=P.a.div(fe()),Se=function(t){Object(x.a)(n,t);var e=Object(b.a)(n);function n(){return Object(g.a)(this,n),e.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var t=It(this.props.createdAt);return r.a.createElement(je,null,r.a.createElement(Ee,null,r.a.createElement(me,{commentId:this.props.id,votesCount:this.props.votesCount,userVoteDirection:this.props.userVoteDirection,topicId:this.props.topicId})),r.a.createElement(we,null,r.a.createElement(ye,null,r.a.createElement(R.a,{variant:"caption",color:"secondary"},"Comentado por",r.a.createElement("strong",null," ",this.props.username),"a ",t," ")),r.a.createElement("div",null,r.a.createElement(R.a,{variant:"subtitle2",color:"textPrimary"},this.props.text))))}}]),n}(a.Component);function ke(){var t=Object(W.a)(["\ndisplay: flex;\njustify-content: center\n"]);return ke=function(){return t},t}function Ce(){var t=Object(W.a)(["\nbackground-color: #f6f7f9;\ndisplay: flex;  \njustify-content: center;\nalign-content: center;\nalign-items: center;\ntext-align: center;\nalign-self: center;\n"]);return Ce=function(){return t},t}function De(){var t=Object(W.a)(["\nmargin: 10px;\npadding: 10px;\ndisplay: inline-flex;\nmin-width: 50%;\nwidth: 50%;\n@media (max-width: 768px) {\n    display: flex;\n    justify-content: center;\n    width: 95%;\n    min-width: 95%;\n}\n"]);return De=function(){return t},t}var Te=Object(P.a)(F.a)(De()),Ie=Object(P.a)(A.a)(Ce()),Le=(P.a.div(ke()),[{name:"text",label:"Novo coment\xe1rio",type:"text",multiline:!0,rows:3,title:"Escreva um novo coment\xe1rio"}]),_e=function(t){Object(x.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleWhitLoading=function(){"desliga"===a.props.loading&&a.setState({loading:!1})},a.handleInputChange=function(t){var e=t.target,n=e.name,r=e.value;a.setState({form:Object(Vt.a)({},a.state.form,Object(h.a)({},n,r))})},a.handleOnSubmit=function(t){a.setState({loading:!0}),t.preventDefault(),a.props.newComment(a.props.id,a.state.form),console.log("teste ")},a.state={form:{},loading:!1},a}return Object(v.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(){this.handleWhitLoading()}},{key:"render",value:function(){var t=this;return r.a.createElement(Te,null," ",r.a.createElement(ot,{open:this.state.loading}),r.a.createElement(Mt.a,{fullWidth:!0},r.a.createElement("form",{onSubmit:this.handleOnSubmit},Le.map((function(e){return r.a.createElement(Ie,{variant:"outlined",key:t.props.id,label:e.label,name:e.name,type:e.type,value:t.state.form[e.name],required:e.required,multiline:e.multiline,rows:e.rows,fullWidth:!0,onChange:t.handleInputChange,title:e.title})})),r.a.createElement(U.a,{type:"submit",variant:"contained",color:"primary"},"Comentar"))))}}]),n}(a.Component),Ne=Object(c.c)((function(t){return{user:t.posts.user,loading:t.posts.loading}}),(function(t){return{goToFeed:function(){return t(Object(V.d)(Ge.root))},newComment:function(e,n){return t(function(t,e){return function(){var n=Object(y.a)(j.a.mark((function n(a){var r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),console.log(t),n.prev=2,r=localStorage.getItem("token"),n.next=6,E.a.post("".concat(S,"/posts/").concat(t,"/comment"),e,{headers:{auth:r}});case 6:n.sent,a(C(t)),a(L()),a(_()),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(2),window.alert("Ops, n\xe3o foi poss\xedvel comentar!"),console.log(n.t0);case 16:case"end":return n.stop()}}),n,null,[[2,12]])})));return function(t){return n.apply(this,arguments)}}()}(e,n))}}}))(_e);function Ve(){var t=Object(W.a)(["\nwidth: 100%;\n"]);return Ve=function(){return t},t}function We(){var t=Object(W.a)(["\nmargin-right: 5px;\nfont-size: 15px;\n"]);return We=function(){return t},t}function Pe(){var t=Object(W.a)(["\nwidth: 20px;\nheight: 20px;\nmargin-right: 5px;\n"]);return Pe=function(){return t},t}function Ae(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\nmargin-top: 10px;\n"]);return Ae=function(){return t},t}function Ue(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\nmargin-bottom: 10px;\n"]);return Ue=function(){return t},t}function Re(){var t=Object(W.a)(["\nmargin: 10px;\npadding: 10px;\ndisplay: inline-flex;\nmin-width: 50%;\nwidth: 50%;\n@media (max-width: 768px) {\n    display: flex;\n    justify-content: center;\n    width: 95%;\n    min-width: 95%;\n}\n"]);return Re=function(){return t},t}function Fe(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nalign-content: center;\nalign-items: center;\n"]);return Fe=function(){return t},t}var Me=P.a.div(Fe()),qe=(Object(P.a)(F.a)(Re()),P.a.div(Ue()),P.a.div(Ae()),Object(P.a)(ut.a)(Pe()),Object(P.a)(pt.a)(We()),P.a.div(Ve()),function(t){Object(x.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleWhitLoading=function(){"desliga"===a.props.loading&&a.setState({loading:!1})},a.textComment=function(){var t="comentarios";return 1===a.props.commentsNumber&&(t="comentario"),t},a.gna=function(){return Math.floor(9*Math.random())},a.state={loading:!0},a}return Object(v.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(){this.handleWhitLoading()}},{key:"componentDidUpdate",value:function(){null===localStorage.getItem("token")&&this.props.goToLogin()}},{key:"render",value:function(){var t=Object(Vt.a)({},this.props.postDetail);return r.a.createElement(Me,null," ",r.a.createElement(ot,{open:this.state.loading}),r.a.createElement(Nt,{key:t.id,votesCount:t.votesCount,userVoteDirection:t.userVoteDirection,commentsNumber:t.commentsNumber,id:t.id,username:t.username,text:t.text,createdAt:t.createdAt,title:t.title,selectedId:function(){console.log(t.id)}}),r.a.createElement(Ne,{id:t.id})," ",this.props.postDetail&&this.props.postDetail.comments.map((function(e){return r.a.createElement(Se,{key:e.id,votesCount:e.votesCount,userVoteDirection:e.userVoteDirection,id:e.id,username:e.username,text:e.text,createdAt:e.createdAt,topicId:t.id})}))," ")}}]),n}(a.Component)),ze=Object(c.c)((function(t){return{postDetail:t.posts.postDetail,user:t.posts.user,loading:t.posts.loading}}),(function(t){return{goToLogin:function(){return t(Object(V.d)(Ge.login))}}}))(qe),Ge={root:"/",login:"/login",cadastro:"/register",postdetails:"/details"};var Je=function(t){return r.a.createElement(m.a,{history:t.history},r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:Ge.root,component:Bt}),r.a.createElement(f.a,{exact:!0,path:Ge.login,component:ct}),r.a.createElement(f.a,{exact:!0,path:Ge.cadastro,component:ue}),r.a.createElement(f.a,{exact:!0,path:Ge.postdetails,component:ze})))},Xe=n(31),Be=n(38),He={posts:[],user:[],postDetail:null,postComments:null,topicVote:null,loading:"",searchTerms:""},Ye=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_POSTS":return Object(Vt.a)({},t,{posts:e.payload.posts.posts});case"SET_USER":return Object(Vt.a)({},t,{user:e.payload.userData});case"NEW_USER":return Object(Vt.a)({},t,{newUser:e.payload.newUserData});case"SET_LOGOUT":return Object(Vt.a)({},t,{user:[]});case"SET_POST_DETAIL":return Object(Vt.a)({},t,{postDetail:e.payload.post,postComments:e.payload.post.comments});case"SET_LOADING_OFF":return Object(Vt.a)({},t,{loading:"desliga"});case"SET_LOADING_FREE":return Object(Vt.a)({},t,{loading:""});case"SET_SEARCH":return Object(Vt.a)({},t,{searchTerms:e.payload.terms});default:return t}},Ze=n(88),Ke=n(171);function Qe(){var t=Object(W.a)(["\nbackground-color: #f6f7f9;\nalign-self: center;\n"]);return Qe=function(){return t},t}function $e(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\nalign-items: center;\nmargin: 5px;\n@media (max-width: 768px) {\n    visibility: hidden;\n    max-height: 0;\n}\n"]);return $e=function(){return t},t}function tn(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\ntext-align: center;\nalign-content: center;\nalign-items: center;\ncursor: pointer\n"]);return tn=function(){return t},t}function en(){var t=Object(W.a)(["\nbackground-color: darkorange;\npadding: 10px;\nborder-radius: 50%;\nwidth: auto;\nheight: width;\nmargin: 20px;\n@media (max-width: 768px) {\n    margin: 10px;\n}\n"]);return en=function(){return t},t}function nn(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: space-between;\nbackground-color: white;\nmargin-bottom: 20px;\n@media (max-width: 768px) {\n    flex-direction: column;\n    margin-bottom: 5px;\n}\n"]);return nn=function(){return t},t}function an(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: center;\ntext-align: center;\nalign-content: center;\nalign-items: center;\n"]);return an=function(){return t},t}var rn,on=P.a.div(an()),cn=Object(P.a)(Ke.a)(nn()),ln=P.a.div(en()),un=P.a.div(tn()),sn=P.a.div($e()),pn=Object(P.a)(A.a)(Qe()),dn=n(98),mn=n.n(dn),fn=n(172),hn=function(t){Object(x.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleInputChange=function(t){var e=t.target.value;a.setState({form:Object(Vt.a)({},a.state.form,{searchTerms:e})}),a.props.setSearch(a.state.form.searchTerms)},a.state={form:{searchTerms:""}},a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t=JSON.parse(localStorage.getItem("user"));null!==t&&this.props.setUser(t)}},{key:"render",value:function(){var t=r.a.createElement(sn,null,r.a.createElement(sn,null,r.a.createElement(U.a,{variant:"outlined",size:"small",color:"primary",onClick:this.props.setLogout},"Logout")),r.a.createElement("div",null,r.a.createElement(R.a,{variant:"subtitle2",color:"textPrimary"},"User: ",null===this.props.user?"":this.props.user.username),r.a.createElement(R.a,{variant:"subtitle2",color:"textPrimary"},"Email: ",null===this.props.user?"":this.props.user.email))),e=r.a.createElement(on,{onClick:this.props.goToFeed},r.a.createElement(ln,null,r.a.createElement(et.a,{fontSize:"large"})),r.a.createElement(un,null,r.a.createElement(R.a,{variant:"h5",color:"textPrimary"},"4eddit"),r.a.createElement(R.a,{variant:"subtitle2",color:"textPrimary"},"Turma 2 - Sagan"))),n=r.a.createElement(on,null,r.a.createElement(pn,{placeholder:"Search",variant:"outlined",value:this.state.searchTerms,onChange:this.handleInputChange,InputProps:{startAdornment:r.a.createElement(fn.a,{position:"start"},r.a.createElement(mn.a,null))}}));return r.a.createElement(cn,{position:"relative",elevation:0},0===this.props.user.length?"":e,0===this.props.user.length?"":n,0===this.props.user.length?"":t," ")}}]),n}(a.Component),gn=Object(c.c)((function(t){return{user:t.posts.user}}),(function(t){return{setLogout:function(){return t((localStorage.clear(),{type:"SET_LOGOUT",payload:{}}))},setUser:function(e){return t(D(e))},setSearch:function(e){return t(function(t){return{type:"SET_SEARCH",payload:{terms:t}}}(e))},goToFeed:function(){return t(Object(V.d)(Ge.root))}}}))(hn),vn=Object(Xe.a)(),bn=[Object(Be.a)(Object(Ze.a)(vn),l.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(t){return t}],xn=Object(Be.e)((rn=vn,Object(Be.c)({router:Object(m.b)(rn),posts:Ye})),Be.d.apply(void 0,bn)),On=function(){return r.a.createElement(c.a,{store:xn},r.a.createElement(u.a,{theme:d},r.a.createElement(s.a,null),r.a.createElement(gn,null),r.a.createElement(Je,{history:vn})))},jn=document.getElementById("root");i.a.render(r.a.createElement(On,null),jn)}},[[105,1,2]]]);
//# sourceMappingURL=main.b35467a7.chunk.js.map